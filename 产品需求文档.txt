《星光璀璨：总裁的试镜会》辅助网站 - 产品需求文档
1. 项目概述
1.1 项目背景
本项目为线下游戏《星光璀璨：总裁的试镜会》的辅助网站，旨在提供实时得分跟踪、技能卡系统和突发事件管理功能，增强游戏体验和管理效率。
1.2 项目目标
•	提供实时、可视化的游戏得分展示
•	实现技能卡系统的数字化管理
•	支持突发事件的通知和管理
•	提供多层级管理员权限系统
•	确保良好的跨设备兼容性
2. 用户角色与权限
2.1 玩家
•	查看得分表格
•	查看正在进行的突发事件
•	查看技能卡使用日志
•	查看技能卡图鉴
2.2 初级管理员（点位考核官）
•	修改指定点位的星星数
•	仅能修改自己管理的点位
2.3 中级管理员
•	修改任意单元格的星星数
•	控制中控台
•	发动技能卡（受玩家委托）
•	发动突发事件
2.4 高级管理员
•	创建/删除游戏场
•	设置队伍数量、名称和颜色
•	设置点位数量和名称
•	创建/删除初级和中级管理员账号
•	上线/下线游戏场
3. 核心功能需求
3.1 得分表格系统
3.1.1 表格结构
•	列标题：各点位名称 + "总积分"列
•	行标题：各队伍名称
•	每行使用不同背景颜色区分队伍
3.1.2 单元格内容
•	星星图标 + 星星数量
•	王冠图标 + 积分数量
•	格式示例：⭐5 👑8
3.1.3 积分计算逻辑
•	每个点位独立计算排名
•	第一名：10分
•	第二名：9分
•	第三名：8分
•	...以此类推
•	星星数相同则并列排名，积分相同
•	下一名积分比上一名少1分（不考虑跳过）
•	总积分 = 所有点位积分之和
3.1.4 排序与更新
•	按总积分降序排列
•	星星数更新自动触发积分重新计算
•	积分更新自动触发排名更新
3.2 技能卡系统
3.2.1 技能卡类型（共17种）
1.	效率诅咒系列（5分钟/10分钟/15分钟）
2.	士气高涨系列（5分钟/10分钟/15分钟）
3.	幸运聚焦
4.	星辉馈赠系列（3/5/10颗）
5.	星蚀系列（3/5/10颗）
6.	技能封锁
7.	净化
8.	荆棘护甲
9.	战略同盟
10.	时光凝滞
11.	排名窃取
1. 效率诅咒5分钟
效果：指定一个队伍，使其在接下来的 5分钟内，星星收益减少为原来的30%
示例：你对B队使用此卡。在接下来的5分钟内，B队成员即使成功完成了3个任务，本来应得3颗星，现在只能获得3 * 0.3 = 0.9颗星
发动方式：前往中控台发动

效率诅咒10分钟
效果：指定一个队伍，使其在接下来的 10分钟内，星星收益减少为原来的50%
示例：你对B队使用此卡。在接下来的10分钟内，B队成员即使成功完成了8个任务，本来应得8颗星，现在只能获得8 * 0.5 = 4颗星
发动方式：前往中控台发动

效率诅咒15分钟
效果：指定一个队伍，使其在接下来的 15分钟内，星星收益减少为原来的70%
示例：你对B队使用此卡。在接下来的15分钟内，B队成员即使成功完成了10个任务，本来应得10颗星，现在只能获得10 * 0.7= 7颗星
发动方式：前往中控台发动

2. 士气高涨5分钟
效果：让自己的队伍在接下来的5分钟内，星星收益提升至原来的2倍。
示例：你的队伍在效果期内成功完成了3个任务，本来应得3颗星，现在实际获得3 * 2= 6颗星
发动方式：前往中控台发动

士气高涨10分钟
效果：让自己的队伍在接下来的10分钟内，星星收益提升至原来的1.5倍。
示例：你的队伍在效果期内成功完成了8个任务，本来应得8颗星，现在实际获得8 * 1.5 = 12颗星
发动方式：前往中控台发动

士气高涨15分钟
效果：让自己的队伍在接下来的15分钟内，星星收益提升至原来的1.3倍。
示例：你的队伍在效果期内成功完成了10个任务，本来应得10颗星，现在实际获得10 * 1.3 = 13颗星
发动方式：前往中控台发动

3. 幸运聚焦
效果：指定一个幸运点位，自己队伍在接下来10分钟内于该点位获得的星星翻倍（2倍）。
示例：你对点位A使用此卡。在10分钟内，你的队员在点位A每获胜一次，就能为队伍赢得2颗星星。
发动方式：前往中控台发动

4. 星辉馈赠*3
 效果：你获得了3颗星星的分配权，可以增加任意队伍在任意点位处的星星，总计可分配3颗。
示例：你可以给自己队在点位A名下加2颗星，同时给盟友队在点位B名下加1颗星。
发动方式：前往中控台发动

星辉馈赠*5
效果：你获得了5颗星星的分配权，可以增加任意队伍在任意点位处的星星，总计可分配5颗。
示例：你可以给自己队在点位A名下加3颗星，同时给盟友队在点位B名下加2颗星。
发动方式：前往中控台发动

星辉馈赠*10
效果：你获得了10颗星星的分配权，可以增加任意队伍在任意点位处的星星，总计可分配10颗。
示例：你可以给自己队在点位A名下加9颗星，同时给盟友队在点位B名下加1颗星。
发动方式：前往中控台发动

5. 星蚀*3
 效果：你获得了 3颗星星 的削减权。你可以减少任意队伍在任意老师处的星星，总计可移除3颗。
示例：你可以从领先的C队在点位A名下移除2颗星，再从敌对的D队在点位B名下移除1颗星。
发动方式：前往中控台发动

星蚀*5
 效果：你获得了 5颗星星 的削减权。你可以减少任意队伍在任意老师处的星星，总计可移除5颗。
示例：你可以从领先的C队在点位A名下移除3颗星，再从敌对的D队在点位B名下移除2颗星。
发动方式：前往中控台发动

星蚀*10
 效果：你获得了 10颗星星 的削减权。你可以减少任意队伍在任意老师处的星星，总计可移除10颗。
示例：你可以从领先的C队在点位A名下移除5颗星，再从敌对的D队在点位B名下移除5颗星。
发动方式：前往中控台发动

6. 技能封锁
指定一个队伍，使其在接下来10分钟内无法使用任何技能卡。
示例：你对一个手握强力卡牌、正准备使用的队伍发动此卡，成功打乱了他们的关键节奏。
发动方式：前往中控台发动

7. 净化
效果：为你的队伍解除一张技能卡带来的负面影响。（仅对“效率诅咒”、“技能封锁”有效）。
示例：你的队伍同时被施加了“效率诅咒”和“技能封锁”，使用此卡后，你可以选择一个负面效果立即消失。
发动方式：前往中控台发动

8. 荆棘护甲
效果：当有队伍对你的队伍使用有负面效果的技能卡时，你可以打出此卡进行反制，该负面效果将完全反弹给原本的使用者。（仅对“效率诅咒”、“技能封锁”有效）
示例：B队对你们使用了“效率诅咒10分钟”，你立刻使用“荆棘护甲”。结果B队自己反而被“效率诅咒”影响了10分钟。
发动方式：前往中控台发动

9. 战略同盟
效果：在20分钟内，可以与另一支队伍结盟。在结盟期间，双方在任何点位获得的星星，结盟方都能获得20%。
示例：你与E队结盟。你的队伍在某个点位获得2颗星，E队会额外获得2 * 20% = 0.4颗星。同理，E队获得3颗星时，你的队伍也会额外获得3 * 20% = 0.6颗星。
发动方式：前往中控台发动

10. 时光凝滞
效果：在玩完一场游戏后使出该技能卡，可使该场游戏除你队伍外所有玩家强制在该点位滞留8分钟，此期间该点位无法进行游戏。
示例：你一人与其他队伍多人进入同一场游戏，在游戏结束后你发动该技能卡，该点位其他所有玩家停滞在此无法赚星星。
发动方式：找点位老师发动

11. 排名窃取
 效果：选择一个点位，你可以与排名比你高一位的队伍互换星星总数。
 示例：你的队伍总星星数为15颗，排名第5。你使用此卡与排名第4（星星数为22颗）的队伍互换。互换后，你拥有22颗星升至第4名，对方拥有15颗星跌至第5名。
发动方式：前往中控台发动
3.2.2 技能卡发动流程
1.	玩家持有纸质技能卡找到中级管理员
2.	管理员在中控台选择对应技能卡
3.	填写目标队伍/点位等必要信息
4.	确认发动，系统记录日志并应用效果
3.2.3 技能卡使用日志
•	记录格式："[时间] XX队对XX队发动XX技能卡，剩余时间XX:XX"
•	或："[时间] XX队使用了XX技能卡，剩余时间XX:XX"
•	按发动时间排序
•	倒计时结束后记录保留但停止显示剩余时间
3.3 突发事件系统
3.3.1 突发事件类型（共6种）
1.	收益波动（指定点位收益减少）
收益波动！点位xx，在接下来的 15分钟内，星星收益减少为原来的50%
2.	收益波动（指定点位收益增加）
收益波动！点位xx，在接下来的15分钟内，星星收益提升至原来的1.5倍
3.	天降甘霖（技能卡补给）
天降甘霖！地图上随机出现3个补给箱，找到场上带红色帽子的npc可获得技能卡补给（规则：每5分钟开启一次补给，此时等候开奖的玩家猜拳选出一位获得补给（若只有一个队伍则直接获得补给）三个补给开完则需发消息至中控台关闭事件提醒）
4.	黄金时间（全点位收益翻倍）
黄金时间到！所有点位收益翻倍，持续10分钟！
5.	低谷时间（全点位收益减半）
低谷时间到！所有点位收益减半，持续 10 分钟！
6.	侦测到特殊任务（随机组队同盟）
侦测到特殊任务！发布组队挑战！所有队伍将随机两两配对，在接下来的8分钟内，结为同盟的两个队伍，彼此共享在一个点位获得的星星（即A队在某个点位得1星，B队也自动获得1星）。

3.3.2 突发事件显示
•	页面顶部显著位置显示
•	包含事件内容和倒计时
•	倒计时结束自动消失
3.4 中控台功能
•	技能卡发动界面
•	突发事件发动界面
•	实时数据监控
•	仅中级和高级管理员可见
3.5 管理员系统
•	无注册功能，仅能通过高级管理员创建账号
•	登录后根据权限显示不同功能
•	会话管理，支持登出
4. 非功能需求
4.1 UI/UX需求
•	设计风格：欧式华丽风格
o	装饰性边框和花纹
o	优雅的字体和图标
•	响应式设计：
o	电脑端：完整表格展示
o	手机端：自适应布局，确保内容完全显示无需横向滚动
•	交互反馈：所有操作应有明确的状态反馈
4.2 性能需求
•	数据更新实时性：星星数更新后3秒内反映到所有客户端
•	支持至少100人同时在线
•	页面加载时间小于3秒
4.3 兼容性需求
•	支持主流浏览器（Chrome、Firefox、Safari、Edge）
•	支持iOS和Android移动设备
5. 技术架构
Next.js + TypeScript + Tailwind CSS + Supabase
5.3 数据模型关键表
•	游戏场表
•	队伍表（含颜色信息）
•	点位表
•	星星记录表
•	技能卡日志表
•	突发事件记录表
•	管理员账号表
6. 页面结构
6.1 主页面布局
text
┌─────────────────────────────────────────┐
│ 顶部导航栏 - 突发事件通知区域           │
├─────────────┬───────────────────────────┤
│ 侧边栏      │                            │
│ (可收起)    │       主内容区             │
│ • 技能卡日志│   • 得分表格（核心）       │
│ • 技能卡图鉴│   • 中控台（管理员）       │
│             │                            │
└─────────────┴───────────────────────────┘
6.2 响应式布局方案
•	电脑端：左侧固定侧边栏，右侧主内容
•	平板端：侧边栏可收起/展开
•	手机端：汉堡菜单导航，表格转为卡片式布局

8. 注意事项
1.	数据一致性：确保星星数更新和积分计算的原子性
2.	权限安全：严格校验管理员操作权限
3.	实时性：重要数据变化需及时推送到所有客户端
4.	移动体验：手机端操作需简化但功能完整

